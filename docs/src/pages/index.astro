---
import Base from '../layouts/Base.astro';
---
<Base title="The Digital Oracle">
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <img
        src={`${import.meta.env.BASE_URL}images/logo/logo-v1-oracle-eye.svg`}
        alt="Priap.OS Logo"
        class="hero-logo"
      />
      <h1>PRIAP.OS</h1>
      <p class="hero-subtitle">
        The Digital Oracle for <a href="https://leekwars.com" target="_blank">LeekWars</a>.
        Systematic AI experimentation meets ancient wisdom.
      </p>
      <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
        <a href="https://github.com/PLNech/Priap.OS" class="btn btn-primary">
          View on GitHub
        </a>
        <a href="#methodology" class="btn btn-secondary">
          STELLAR Methodology
        </a>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="container">
    <div class="divider"><span>The Numbers</span></div>

    <div class="stats-grid">
      <div class="stat-card card">
        <div class="stat-value">13,000:1</div>
        <div class="stat-label">Leverage Ratio</div>
        <p style="font-size: 0.875rem; margin-top: 0.5rem;">
          Offline fights per online fight
        </p>
      </div>
      <div class="stat-card card">
        <div class="stat-value">21.5</div>
        <div class="stat-label">Fights/Second</div>
        <p style="font-size: 0.875rem; margin-top: 0.5rem;">
          Local simulation speed
        </p>
      </div>
      <div class="stat-card card">
        <div class="stat-value">L17</div>
        <div class="stat-label">Current Level</div>
        <p style="font-size: 0.875rem; margin-top: 0.5rem;">
          IAdonis, the test subject
        </p>
      </div>
      <div class="stat-card card">
        <div class="stat-value">50%</div>
        <div class="stat-label">Win Rate</div>
        <p style="font-size: 0.875rem; margin-top: 0.5rem;">
          Fighter v6 "Oracle" online
        </p>
      </div>
    </div>
  </section>

  <!-- Philosophy Section -->
  <section class="container-narrow">
    <div class="divider"><span>The Philosophy</span></div>

    <h2>The Oracle Speaks</h2>
    <p>
      <strong>Priapos</strong> was the Greek god of gardens and fertility—protector of vegetation.
      In LeekWars, we tend a different kind of garden: one of battling vegetables and
      algorithmic evolution.
    </p>
    <p>
      <strong>Priap.OS</strong> is our Digital Oracle—an AI development framework that
      combines systematic experimentation with the wisdom of measured iteration.
      We never waste a precious online fight on untested hypotheses.
    </p>

    <blockquote style="border-left: 3px solid var(--color-purple); padding-left: 1rem; margin: 2rem 0; font-style: italic; color: var(--color-marble-dim);">
      "The Oracle spoke: kiting at low damage levels is a path to timeout and defeat.
      We tested 1000 fights and the data was clear..."
      <br><span style="color: var(--color-bronze);">— Experiment Log, Session 4</span>
    </blockquote>

    <h2 id="methodology">The STELLAR Methodology</h2>
    <p>Every hypothesis follows a rigorous protocol:</p>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
      <div class="card" style="text-align: center; padding: 1rem;">
        <div style="font-size: 1.5rem; color: var(--color-cyan);">S</div>
        <div style="font-size: 0.75rem;">Systematic</div>
      </div>
      <div class="card" style="text-align: center; padding: 1rem;">
        <div style="font-size: 1.5rem; color: var(--color-cyan);">T</div>
        <div style="font-size: 0.75rem;">Testable</div>
      </div>
      <div class="card" style="text-align: center; padding: 1rem;">
        <div style="font-size: 1.5rem; color: var(--color-cyan);">E</div>
        <div style="font-size: 0.75rem;">Efficient</div>
      </div>
      <div class="card" style="text-align: center; padding: 1rem;">
        <div style="font-size: 1.5rem; color: var(--color-purple);">L</div>
        <div style="font-size: 0.75rem;">Logged</div>
      </div>
      <div class="card" style="text-align: center; padding: 1rem;">
        <div style="font-size: 1.5rem; color: var(--color-purple);">L</div>
        <div style="font-size: 0.75rem;">Learning</div>
      </div>
      <div class="card" style="text-align: center; padding: 1rem;">
        <div style="font-size: 1.5rem; color: var(--color-leek);">A</div>
        <div style="font-size: 0.75rem;">Adaptive</div>
      </div>
      <div class="card" style="text-align: center; padding: 1rem;">
        <div style="font-size: 1.5rem; color: var(--color-leek);">R</div>
        <div style="font-size: 0.75rem;">Reproducible</div>
      </div>
    </div>

    <h2>The Flywheel</h2>
    <pre><code>Fight Online → Collect Data → Analyze Losses → Improve AI Offline
     ↑                                                    ↓
     └──────────── Deploy Best Variant ←──────────────────┘</code></pre>
    <p>
      The scaffolding lets us spin this flywheel <strong>13,000x faster</strong>
      than manual iteration.
    </p>
  </section>

  <!-- Recent Discoveries Section -->
  <section class="container-narrow">
    <div class="divider"><span>Recent Discoveries</span></div>

    <div class="card" style="margin-bottom: 1rem;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
        <h3 style="margin: 0;">Counter-Kiter Detection</h3>
        <span class="chip chip-success">✓ Validated</span>
      </div>
      <p style="margin: 0.5rem 0;">
        Fighter v6 "Oracle" detects when enemies are retreating and commits ALL MP to close
        before shooting. Result: <strong>+18% win rate</strong> vs kiter archetype.
      </p>
      <code>if (dist > last_enemy_dist) enemy_retreating = true</code>
    </div>

    <div class="card" style="margin-bottom: 1rem;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
        <h3 style="margin: 0;">Kiting at Low Damage = Death</h3>
        <span class="chip chip-error">✗ Rejected</span>
      </div>
      <p style="margin: 0.5rem 0;">
        Pure kiting strategy loses <strong>20% vs 49%</strong> at low damage levels.
        Extends fights to timeout instead of securing kills.
      </p>
    </div>

    <div class="card">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
        <h3 style="margin: 0;">First-Mover Advantage</h3>
        <span class="chip chip-info">~ 58%</span>
      </div>
      <p style="margin: 0.5rem 0;">
        Online fights show significant attacker advantage. Simulator bias differs
        (93% Team 1 wins due to position, not turn order).
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>
        <strong>Priap.OS</strong> — The Digital Oracle for LeekWars
        <br>
        <a href="https://github.com/PLNech/Priap.OS">GitHub</a> ·
        Built with <a href="https://astro.build">Astro</a>
      </p>
      <p style="font-size: 0.75rem; margin-top: 1rem;">
        "Tend your garden with data, not guesswork."
      </p>
    </div>
  </footer>
</Base>
